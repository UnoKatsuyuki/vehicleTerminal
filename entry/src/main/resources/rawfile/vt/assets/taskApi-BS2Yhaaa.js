import{a as o}from"./index-Dq7h7Pqt.js";import{y as a,W as s}from"./index-CCAfALLo.js";const e=o.create({baseURL:"/prod-api",timeout:1e4});e.interceptors.request.use(t=>t,t=>(console.log(t),Promise.reject(t)));e.interceptors.response.use(t=>{const r=t.data;return r.code!==200?(a({message:r.msg||"Error",type:"error",duration:5*1e3}),(r.code===50008||r.code===50012||r.code===50014)&&s.confirm("会话已失效，您可以取消停留在该页面，或者重新登录","确认登出",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then(()=>{}),Promise.reject(new Error(r.msg||"Error"))):Object.prototype.hasOwnProperty.call(r,"rows")&&Object.prototype.hasOwnProperty.call(r,"total")?r:r.data},t=>(console.log("err"+t),a({message:t.message,type:"error",duration:5*1e3}),Promise.reject(t)));function l(t){return e({url:"/agv/task/list",method:"get",params:t})}function c(t){return e({url:`/agv/task/${t}`,method:"get"})}function i(t){return e({url:"/agv/task",method:"post",data:t})}function d(t){return e({url:"/agv/task",method:"put",data:t})}function p(t){return e({url:`/agv/task/${t}`,method:"delete"})}function g(t){return e({url:`/agv/task/preupload/${t}`,method:"get"})}function m(t){return e({url:`/agv/task/upload/${t}`,method:"post",timeout:6e5})}function f(t){return e({url:"/agv/flaw/list",method:"get",params:t})}function k(t){return e({url:"/agv/flaw",method:"put",data:t})}export{i as a,f as b,k as c,p as d,m as e,c as g,l,g as p,d as u};
